<div *ngIf="users" class="container">
  <div class="card">
    <div class="card-content">
      <table class="striped bordered">
        <thead>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Username</th>
            <th>Institution</th>
            <th># Events</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
            <td>{{user.first_name}}</td>
            <td>{{user.last_name}}</td>
            <td>{{user.email}}</td>
            <td>{{user.username}}</td>
            <td *ngIf="haveInstitutions">{{getInstitutionName(user.institution_id)}}</td>
            <td *ngIf="!haveInstitutions">---</td>
            <td>{{user.analyzed_events.length}}</td>
            <td><a *ngIf="user.analyzed_events.length > 0" [routerLink]="['/admin/user-events', user.id]">View</a></td>
          </tr>
        </tbody>


      </table>
    </div>
  </div>
</div>

<!--
<div *ngFor="let event of user.analyzed_events">
              <a (click)="fetchEvent(event)">{{event}}</a>
            </div>
            -->
